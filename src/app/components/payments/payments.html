<div class="p-4 min-h-screen bg-gray-50">
  <h2 class="text-2xl font-semibold mb-3 text-gray-800">Payments & Invoices</h2>

  <div *ngIf="loading" class="flex justify-center items-center py-12">
    <div class="text-center">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
      <p class="text-gray-500 text-lg">Loading payment data...</p>
    </div>
  </div>

  <div class="overflow-x-auto">
    <table *ngIf="!loading && invoices.length > 0" class="min-w-full bg-white rounded-xl shadow-lg table-auto">
      <thead class="bg-gray-100 text-gray-700 text-sm">
        <tr>
          <th class="px-4 py-2 text-left">Invoice ID</th>
          <th class="px-4 py-2 text-left">Full Name</th>
          <th class="px-4 py-2 text-left">National ID</th>
          <th class="px-4 py-2 text-left">Amount (GHS)</th>
          <th class="px-4 py-2 text-left">Status</th>
          <th class="px-4 py-2 text-left no-print">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let inv of invoices" class="border-b hover:bg-gray-50 text-sm">
          <td class="px-4 py-2">{{ inv.invoice_id }}</td>
          <td class="px-4 py-2">{{ inv.full_name }}</td>
          <td class="px-4 py-2">{{ inv.national_id || 'N/A' }}</td>
          <td class="px-4 py-2">{{ inv.amount }}</td>
          <td class="px-4 py-2">
            <span [ngClass]="{
              'text-green-600 font-medium': inv.paid == 1,
              'text-red-600 font-medium': inv.paid == 0
            }">
              {{ inv.paid == 1 ? 'Paid' : 'Pending' }}
            </span>
          </td>
          <td class="px-4 py-2 no-print">
            <button (click)="printInvoice(inv)" class="bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600 cursor-pointer">Print</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!loading && invoices.length === 0" class="text-gray-500">
    No payment records found.
  </div>
</div>
